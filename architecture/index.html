<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <title>Architecture - Skydive Docs</title>
    <meta name="generator" content="Hugo 0.16-DEV" />

    
    <meta name="description" content="Real-time network analyzer.">
    
    <link rel="canonical" href="//skydive-project.github.io/skydive/architecture/">
    
    <meta name="author" content="skydive-project/skydive">
    

    <meta property="og:url" content="//skydive-project.github.io/skydive/architecture/">
    <meta property="og:title" content="Skydive Docs">
    <meta property="og:image" content="//skydive-project.github.io/skydive/images/skydive-logo.png">
    <meta name="apple-mobile-web-app-title" content="Skydive Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="//skydive-project.github.io/skydive/images/skydive-logo-16x16.png">
    <link rel="icon" type="image/x-icon" href="//skydive-project.github.io/skydive/images/skydive-logo-16x16.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('//skydive-project.github.io/skydive/fonts/icon.eot?52m981');
        src: url('//skydive-project.github.io/skydive/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('//skydive-project.github.io/skydive/fonts/icon.woff?52m981')
               format('woff'),
             url('//skydive-project.github.io/skydive/fonts/icon.ttf?52m981')
               format('truetype'),
             url('//skydive-project.github.io/skydive/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="//skydive-project.github.io/skydive/stylesheets/application.css">
    <link rel="stylesheet" href="//skydive-project.github.io/skydive/stylesheets/palettes.css">
    <link rel="stylesheet" href="//skydive-project.github.io/skydive/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu%2bMono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>
    
    
    <script src="//skydive-project.github.io/skydive/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-light-blue palette-accent-white">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Architecture
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/skydive-project/skydive" title="@skydive-project/skydive on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/skydive-project/skydive" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="//skydive-project.github.io/skydive/images/skydive-logo.png">
        </div>
      
      <div class="name">
        <strong>Skydive Docs <span class="version">0.12.0</span></strong>
        
          <br>
          skydive-project/skydive
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/skydive-project/skydive/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/skydive-project/skydive/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Home" href="//skydive-project.github.io/skydive/">
	
	Home
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Getting-Started</span>
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="Installation" href="//skydive-project.github.io/skydive/getting-started/install/">
	
	Installation
</a>

  
      
        
        



<a  title="Client &amp; WebUI" href="//skydive-project.github.io/skydive/getting-started/client/">
	
	Client &amp; WebUI
</a>

  
      
        
        



<a  title="Docker" href="//skydive-project.github.io/skydive/getting-started/docker/">
	
	Docker
</a>

  
      
        
        



<a  title="Openstack" href="//skydive-project.github.io/skydive/getting-started/openstack/">
	
	Openstack
</a>

  
      
        
        



<a  title="Vagrant" href="//skydive-project.github.io/skydive/getting-started/vagrant/">
	
	Vagrant
</a>

  
      
        
        



<a  title="Kubernetes" href="//skydive-project.github.io/skydive/getting-started/kubernetes/">
	
	Kubernetes
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Api</span>
      
    
      
    
      
    
      
    
      
    
      
    
    

    <ul>
      
        
        



<a  title="Gremlin language" href="//skydive-project.github.io/skydive/api/gremlin/">
	
	Gremlin language
</a>

  
      
        
        



<a  title="Captures" href="//skydive-project.github.io/skydive/api/captures/">
	
	Captures
</a>

  
      
        
        



<a  title="Flows" href="//skydive-project.github.io/skydive/api/flows/">
	
	Flows
</a>

  
      
        
        



<a  title="Rest" href="//skydive-project.github.io/skydive/api/rest/">
	
	Rest
</a>

  
      
        
        



<a  title="Alerts" href="//skydive-project.github.io/skydive/api/alerts/">
	
	Alerts
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="Deployment" href="//skydive-project.github.io/skydive/deployment/">
	
	Deployment
</a>

  
  
</li>



<li>
  
    



<a class="current" title="Architecture" href="//skydive-project.github.io/skydive/architecture/">
	
	Architecture
</a>


<ul id="scrollspy">
</ul>
  
  
</li>



<li>
  
    



<a  title="Contributing" href="//skydive-project.github.io/skydive/contributing/">
	
	Contributing
</a>

  
  
</li>



<li>
  
  <li>
    

    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      <span class="section">Use-Cases</span>
      
    
      
    
    

    <ul>
      
        
        



<a  title="Packet Injector" href="//skydive-project.github.io/skydive/use-cases/packet-injector/">
	
	Packet Injector
</a>

  
      
    </ul>
  </li>
  
</li>



<li>
  
    



<a  title="Contact" href="//skydive-project.github.io/skydive/contact/">
	
	Contact
</a>

  
  
</li>



<li>
  
    



<a  title="License" href="//skydive-project.github.io/skydive/license">
	
	License
</a>

  
  
</li>

        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/skydive-project/skydive" target="_blank" title="@skydive-project/skydive on GitHub">
              @skydive-project/skydive on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Architecture </h1>

			

<p><img src="//skydive-project.github.io/skydive/images/architecture.png" alt="Skydive Architecture" /></p>

<h2 id="graph">Graph</h2>

<p>Skydive relies on a event based graph engine, which means that notifications
are sent for each modification. Graphs expose notifications over WebSocket
connections. Skydive support multiple graph backends for the Graph. The <code>memory</code>
backend will be always used by agents while the backend for analyzers can be
choosen. Each modification is kept in the datastore so that we have a full
history of the graph. This is really useful to troubleshoot even if
interfaces do not exist anymore.</p>

<h2 id="forwarder">Forwarder</h2>

<p>Forwards graph messages from agents to analyzers so that analyzers can build
an aggregation of all agent graphs.</p>

<h2 id="topology-probes">Topology probes</h2>

<p>Fill the graph with topology informations collected. Multiple probes fill the
graph in parallel. As an example there are probes filling graph with
network namespaces, netlink or OVSDB information.</p>

<h2 id="flow-table">Flow table</h2>

<p>Skydive keep a track of packets captured in flow tables. It allows Skydive to
keep metrics for each flows. At a given frequency or when the flow expires
(see the config file) flows are forwarded from agents to analyzers and then
to the datastore.</p>

<h2 id="flow-enhancer">Flow enhancer</h2>

<p>Each time a new flow is received by the analyzer the flow is enhanced with
topology informations like where it has been captured, where it originates from,
where the packet is going to.</p>

<h2 id="flow-probes">Flow probes</h2>

<p>Flow probes capture packets and fill agent flow tables. There are different
ways to capture packets like sFlow, afpacket, PCAP, etc.</p>

<h2 id="gremlin-engine">Gremlin engine</h2>

<p>Skydive uses Gremlin language as its graph traversal language. The Skydive
Gremlin implementation allows to use Gremlin for flow traversal purpose.
The Gremlin engine can either retrieve informations from the datastore or from
agents depending whether the request is about something is the past or for live
monitoring/troubleshooting.</p>

<h2 id="etcd">Etcd</h2>

<p>Skydive uses Etcd to store API objects like captures. Agents are watching Etcd
so that they can react on API calls.</p>

<h2 id="on-demand-probe">On-demand probe</h2>

<p>This component watches Etcd and the graph in order to start captures. So when a
new capture is created by the API on-demande probe looks for graph nodes
matching the Gremlin expression, and if so, start capturing traffic.</p>

			
			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the Apache license 2.0 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">
					Material
				</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="//skydive-project.github.io/skydive/api/flows/" title="Flows">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Flows
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="//skydive-project.github.io/skydive/api/alerts/" title="Alerts">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Alerts
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>




			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '\/\/skydive-project.github.io\/skydive\/';
      var repo_id  = 'skydive-project\/skydive';
    
    </script>

    <script src="//skydive-project.github.io/skydive/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(headers.length > 0) {
        for(var i = 0; i < headers.length; i++) {
          var li = document.createElement("li");
          li.setAttribute("class", "anchor");

          var a  = document.createElement("a");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", headers[i].innerHTML);
          a.innerHTML = headers[i].innerHTML;
          
          li.appendChild(a)
          scrollspy.appendChild(li);
        }
      } else {
        scrollspy.parentElement.removeChild(scrollspy)
      }
      

      /* Add permanent link next to the headers */
      var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

      for(var i = 0; i < headers.length; i++) {
          var a = document.createElement("a");
          a.setAttribute("class", "headerlink");
          a.setAttribute("href", "#" + headers[i].id);
          a.setAttribute("title", "Permanent link")
          a.innerHTML = "#";
          headers[i].appendChild(a);
      }
    </script>

    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>